{"ast":null,"code":"export default {\n  name: 'AuthPage',\n  data() {\n    return {\n      isLogin: true,\n      loginForm: {\n        username: '',\n        password: '',\n        autoLogin: false\n      },\n      signUpForm: {\n        username: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        emailError: '',\n        isSendingCode: false,\n        countdown: 60\n      }\n    };\n  },\n  methods: {\n    toggleForm() {\n      //切换值\n      this.isLogin = !this.isLogin;\n    },\n    validateEmail() {\n      const emailPattern = /^2.*@buaa\\.edu\\.cn$/;\n      if (!emailPattern.test(this.signUpForm.email)) {\n        this.signUpForm.emailError = 'Email must start with \"2\" and end with \"buaa.edu.cn\".';\n      } else {\n        this.signUpForm.emailError = '';\n      }\n    },\n    sendVerificationCode() {\n      if (this.signUpForm.emailError || !this.signUpForm.email) {\n        return;\n      }\n      this.signUpForm.isSendingCode = true;\n      this.signUpForm.countdown = 60;\n      const interval = setInterval(() => {\n        this.signUpForm.countdown--;\n        if (this.signUpForm.countdown <= 0) {\n          clearInterval(interval);\n          this.signUpForm.isSendingCode = false;\n        }\n      }, 1000);\n      console.log('Sending verification code to:', this.signUpForm.email);\n    },\n    async handleLogin() {\n      console.log('Login form submitted:', this.loginForm);\n    },\n    async handleSignUp() {\n      console.log('SignUp form submitted:', this.signUpForm);\n    }\n  }\n};","map":{"version":3,"names":["name","data","isLogin","loginForm","username","password","autoLogin","signUpForm","email","confirmPassword","emailError","isSendingCode","countdown","methods","toggleForm","validateEmail","emailPattern","test","sendVerificationCode","interval","setInterval","clearInterval","console","log","handleLogin","handleSignUp"],"sources":["/Users/selinakhoo/BUAA/数据库/test6/Frontend/loginpage/src/components/LoginAndSignUp.vue"],"sourcesContent":["// 登录和注册页面\n\n<template>\n  <div class=\"auth-wrapper\">\n    <div class=\"auth-inner\">\n\n      <div v-if=\"isLogin\">\n        <form @submit.prevent=\"handleLogin\">\n          <h3>Login</h3>\n\n          <div class=\"form-group\">\n            <label>Username</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Username\" v-model=\"loginForm.username\"/>\n          </div>\n\n          <div class=\"form-group\">\n            <label>Password</label>\n            <input type=\"password\" class=\"form-control\" placeholder=\"Password\" v-model=\"loginForm.password\"/>\n          </div>\n\n          <div class=\"form-group form-check\">\n            <input type=\"checkbox\" class=\"form-check-input\" id=\"autoLogin\" v-model=\"loginForm.autoLogin\"/>\n            <label class=\"form-check-label\" for=\"autoLogin\">Auto Login</label>\n          </div>\n\n          <div class=\"form-group text-right\">\n            <a href=\"#\" class=\"forgot-password\">Forgot Password？</a>\n          </div>\n\n          <div class=\"d-flex justify-content-center\">\n            <button type=\"submit\" class=\"btn btn-primary\">Login</button>\n          </div>\n\n          <!--切换-->\n          <div class=\"text-center mt-3\">\n            <span>No an account yet？</span>\n            <a href=\"#\" @click.prevent=\"toggleForm\">Sign Up Here</a>\n          </div>\n        </form>\n      </div>\n\n      <!--  isLogin = False-->\n      <div v-else>\n        <form @submit.prevent=\"handleSignUp\">\n          <h3>Sign Up</h3>\n\n          <div class=\"form-group\">\n            <label>Username</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Username\" v-model=\"signUpForm.username\"/>\n          </div>\n\n          <div class=\"form-group\">\n            <label>Email</label>\n            <input type=\"email\" class=\"form-control\" placeholder=\"Email\" v-model=\"signUpForm.email\" @blur=\"validateEmail\"/>\n            <div v-if=\"signUpForm.emailError\" class=\"error-message\">{{ signUpForm.emailError }}</div>\n          </div>\n\n          <div class=\"form-group\">\n            <label>Password</label>\n            <input type=\"password\" class=\"form-control\" placeholder=\"Password\" v-model=\"signUpForm.password\"/>\n          </div>\n\n          <div class=\"form-group\">\n            <label>Confirm Password</label>\n            <input type=\"password\" class=\"form-control\" placeholder=\"Confirm Password\" v-model=\"signUpForm.confirmPassword\"/>\n          </div>\n\n          <div class=\"form-group\">\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"sendVerificationCode\" :disabled=\"signUpForm.isSendingCode\">\n              {{ signUpForm.isSendingCode ? `Resend in ${signUpForm.countdown}s` : 'Send Verification Code' }}\n            </button>\n          </div>\n\n          <button type=\"submit\" class=\"btn btn-primary btn-block\">Sign Up</button>\n\n          <div class=\"text-center mt-3\">\n            <span>Already have an account？</span>\n            <a href=\"#\" @click.prevent=\"toggleForm\">Login Here</a>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AuthPage',\n  data() {\n    return {\n      isLogin: true,\n      loginForm: {\n        username: '',\n        password: '',\n        autoLogin: false,\n      },\n      signUpForm: {\n        username: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        emailError: '',\n        isSendingCode: false,\n        countdown: 60,\n      },\n    };\n  },\n  methods: {\n    toggleForm() {  //切换值\n      this.isLogin = !this.isLogin;\n    },\n    validateEmail() {\n      const emailPattern = /^2.*@buaa\\.edu\\.cn$/;\n      if (!emailPattern.test(this.signUpForm.email)) {\n        this.signUpForm.emailError = 'Email must start with \"2\" and end with \"buaa.edu.cn\".';\n      } else {\n        this.signUpForm.emailError = '';\n      }\n    },\n    sendVerificationCode() {\n      if (this.signUpForm.emailError || !this.signUpForm.email) {\n        return;\n      }\n\n      this.signUpForm.isSendingCode = true;\n      this.signUpForm.countdown = 60;\n\n      const interval = setInterval(() => {\n        this.signUpForm.countdown--;\n        if (this.signUpForm.countdown <= 0) {\n          clearInterval(interval);\n          this.signUpForm.isSendingCode = false;\n        }\n      }, 1000);\n\n      console.log('Sending verification code to:', this.signUpForm.email);\n    },\n    async handleLogin() {\n      console.log('Login form submitted:', this.loginForm);\n    },\n    async handleSignUp() {\n      console.log('SignUp form submitted:', this.signUpForm);\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css?family=Fira + Sans:400,500,600,700.800');\n\n* {\n  box-sizing: border-box;\n}\n\n.auth-wrapper {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  text-align: left;\n  height: 100vh;\n}\n\n.auth-inner {\n  width: 450px;\n  margin: auto;\n  background: #ffffff;\n  box-shadow: 0px 14px 80px rgba(34, 35, 58, 0.2);\n  padding: 40px 55px 45px 55px;\n  border-radius: 15px;\n  transition: all .3s;\n}\n\n.auth-wrapper h3 {\n  text-align : center;\n  margin : 0;\n  line-height: 1;\n  padding-bottom: 20px;\n}\n\n.error-message {\n  color: red;\n  font-size: 0.875rem;\n}\n</style>"],"mappings":"AAsFA,eAAe;EACbA,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,IAAI;MACbC,SAAS,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,SAAS,EAAE;MACb,CAAC;MACDC,UAAU,EAAE;QACVH,QAAQ,EAAE,EAAE;QACZI,KAAK,EAAE,EAAE;QACTH,QAAQ,EAAE,EAAE;QACZI,eAAe,EAAE,EAAE;QACnBC,UAAU,EAAE,EAAE;QACdC,aAAa,EAAE,KAAK;QACpBC,SAAS,EAAE;MACb;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MAAG;MACd,IAAI,CAACZ,OAAM,GAAI,CAAC,IAAI,CAACA,OAAO;IAC9B,CAAC;IACDa,aAAaA,CAAA,EAAG;MACd,MAAMC,YAAW,GAAI,qBAAqB;MAC1C,IAAI,CAACA,YAAY,CAACC,IAAI,CAAC,IAAI,CAACV,UAAU,CAACC,KAAK,CAAC,EAAE;QAC7C,IAAI,CAACD,UAAU,CAACG,UAAS,GAAI,uDAAuD;MACtF,OAAO;QACL,IAAI,CAACH,UAAU,CAACG,UAAS,GAAI,EAAE;MACjC;IACF,CAAC;IACDQ,oBAAoBA,CAAA,EAAG;MACrB,IAAI,IAAI,CAACX,UAAU,CAACG,UAAS,IAAK,CAAC,IAAI,CAACH,UAAU,CAACC,KAAK,EAAE;QACxD;MACF;MAEA,IAAI,CAACD,UAAU,CAACI,aAAY,GAAI,IAAI;MACpC,IAAI,CAACJ,UAAU,CAACK,SAAQ,GAAI,EAAE;MAE9B,MAAMO,QAAO,GAAIC,WAAW,CAAC,MAAM;QACjC,IAAI,CAACb,UAAU,CAACK,SAAS,EAAE;QAC3B,IAAI,IAAI,CAACL,UAAU,CAACK,SAAQ,IAAK,CAAC,EAAE;UAClCS,aAAa,CAACF,QAAQ,CAAC;UACvB,IAAI,CAACZ,UAAU,CAACI,aAAY,GAAI,KAAK;QACvC;MACF,CAAC,EAAE,IAAI,CAAC;MAERW,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE,IAAI,CAAChB,UAAU,CAACC,KAAK,CAAC;IACrE,CAAC;IACD,MAAMgB,WAAWA,CAAA,EAAG;MAClBF,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAACpB,SAAS,CAAC;IACtD,CAAC;IACD,MAAMsB,YAAYA,CAAA,EAAG;MACnBH,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAChB,UAAU,CAAC;IACxD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}